DROP PROCEDURE IF EXISTS p;CREATE PROCEDURE p()BEGINDECLARE row_cat_id int;DECLARE row_goods_id int;DECLARE row_goods_name DECIMAL(11,2);DECLARE cnt int DEFAULT 0;DECLARE getgoods CURSOR for  SELECT cat_id ,goods_id,goods_name from goods;SELECT COUNT(*) into cnt from goods;OPEN    getgoods;while cnt <>0 DOFETCH   getgoods into row_cat_id,row_goods_id,row_goods_name;SELECT row_cat_id,row_goods_id,cnt;set cnt :=cnt-1;end WHILE;CLOSE   getgoods;END;call p